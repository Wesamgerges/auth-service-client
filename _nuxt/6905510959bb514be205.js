(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{227:function(e,t,r){e.exports=r.p+"img/45137bb.svg"},228:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));r(43);var n=r(11),o=r(10),c=r(15),h=function(){function e(t){Object(o.a)(this,e),this.app=t,this.readableErrorMessages={E_PASSWORD_MISMATCH:"Invalid email or password.",E_USER_NOT_FOUND:"It seems you didn't register yet.",E_MISSING_DATABASE_ROW:"It seems you didn't register yet.",ER_NO_DEFAULT_FOR_FIELD:"You already registered. Please login",ER_DUP_ENTRY:"You already registered. Please login.",ER_BAD_NULL_ERROR:"Email and Password are required.",E_OAUTH_STATE_MISMATCH:"Something went wrong. Please re-login"}}var t,r,h,l;return Object(c.a)(e,[{key:"login",value:(l=Object(n.a)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.app.$auth.loginWith("local",{data:{email:t.email,password:t.password}}).catch((function(e){r.reset(e)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"register",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.app.$axios.post("/auth/register",t);case 3:return r=e.sent,data=r.data,e.next=7,this.setAuthUser(data.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.reset(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return h.apply(this,arguments)})},{key:"callback",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"error"!=(data=this.app.$route.query).status){e.next=4;break}throw new Error(data.message);case 4:return e.next=6,this.setAuthUser(data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.reset(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return r.apply(this,arguments)})},{key:"setAuthUser",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,n=t.type,this.app.$auth.setToken("local",n+" "+r),this.app.$auth.setStrategy("local"),e.next=5,this.app.$auth.fetchUser();case 5:this.app.$router.push("/");case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"reset",value:function(e){throw this.app.$auth.setToken("local",""),localStorage.setItem("errorMessage",this.getErrorMesssage(e.message||e)),this.app.$router.push("/login"),this.getErrorMesssage(e.message||e)}},{key:"getErrorMesssage",value:function(e){return this.readableErrorMessages[e]?this.readableErrorMessages[e]:e}}]),e}()},229:function(e,t,r){var content=r(234);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(34).default)("08c57a24",content,!0,{sourceMap:!1})},233:function(e,t,r){"use strict";var n=r(229);r.n(n).a},234:function(e,t,r){(t=r(33)(!1)).push([e.i,".container[data-v-77e35f1a]{min-height:70vh}",""]),e.exports=t},243:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container d-flex align-items-center justify-content-center flex-column"},[t("img",{attrs:{src:r(227),alt:"Loading...",width:"80px"}}),this._v("\n    Logging in...\n")])}],o=(r(43),r(11)),c=r(228),h={auth:!1,layout:"plain",mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:new c.a(e).callback();case 2:case"end":return t.stop()}}),t)})))()}},l=(r(233),r(35)),component=Object(l.a)(h,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),n,!1,null,"77e35f1a",null);t.default=component.exports}}]);